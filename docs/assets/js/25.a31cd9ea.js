(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{422:function(e,t,r){"use strict";r.r(t);var o=r(13),a=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[r("img",{staticStyle:{width:"100%"},attrs:{src:"/images/dotnet-core-coverage-gutters.jpg",alt:".Net Core Coverage Gutters",title:".Net Core Coverage Gutters"}})]),e._v(" "),r("p",[e._v("When working on the project, does not matter how big or small, having written unit tests, integration tests, it is like having safety net under you before walking the thin line of changing functionality. Code coverage reporting after running tests helps track how much of the production code is covered by tests. It is impossible to reach 100% of code coverage and some companies set the code coverage bar as high as %94 - %97.")]),e._v(" "),r("p",[e._v("For Visual Studio I used "),r("a",{attrs:{href:"https://www.ncrunch.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("NCrunch"),r("OutboundLink")],1),e._v(" tool, which automatically runs unit tests and displays graph, statistics and coverage. There is a way to achieve similar functionality in Visual Studio Code with .Net Core using extensions and 'dotnet watch test' command.")]),e._v(" "),r("p",[e._v("For this you need to install "),r("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=formulahendry.dotnet-test-explorer",target:"_blank",rel:"noopener noreferrer"}},[e._v(".NET Core Test Explorer"),r("OutboundLink")],1),e._v(" and "),r("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=ryanluker.vscode-coverage-gutters",target:"_blank",rel:"noopener noreferrer"}},[e._v("Coverage Gutters"),r("OutboundLink")],1),e._v(". .Net Core test project need to reference "),r("em",[e._v("coverlet.msbuild")]),e._v(" package. It is a code coverage library for .NET, with support for line, branch and method coverage. Now we are going to configure extensions.")]),e._v(" "),r("h4",{attrs:{id:"configure-net-test-explorer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#configure-net-test-explorer"}},[e._v("#")]),e._v(" Configure .Net Test Explorer")]),e._v(" "),r("hr"),e._v(" "),r("p",[e._v("Edit Visual Studio Code Settings for .Net Core Test Explorer and set Test Arguments and Test Project Path.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("Test Arguments:\n/p:CollectCoverage=true /p:CoverletOutputFormat=cobertura /p:CoverletOutput=cov.xml\n\nTest Project Path:\n**\\*.tests.csproj\n\nTree Mode:\nFull\n")])])]),r("p",[e._v("Coverage gutters extension looks for cov.xml coverage report file to display line coverage. If you are running Visual Studio Code under Linux or iOS set Path as "),r("em",[r("code",[e._v("'**/*.tests.csproj'")])]),e._v(". "),r("em",[r("code",[e._v("'*.tests.csproj'")])]),e._v(" is the suffix I use for my test projects in a solution. And I like to see full project / namespace tree in Test Explorer so I set Tree Mode to Full.")]),e._v(" "),r("h4",{attrs:{id:"configure-coverage-gutters"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#configure-coverage-gutters"}},[e._v("#")]),e._v(" Configure Coverage Gutters")]),e._v(" "),r("hr"),e._v(" "),r("p",[e._v("Edit Coverage Gutters settings and enable following settings:")]),e._v(" "),r("ul",[r("li",[e._v("'Show Gutter Coverage'")]),e._v(" "),r("li",[e._v("'Show Line Coverage'")]),e._v(" "),r("li",[e._v("'Show Ruler Coverage'")])]),e._v(" "),r("h4",{attrs:{id:"running-unit-tests-automatically-with-code-coverage"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#running-unit-tests-automatically-with-code-coverage"}},[e._v("#")]),e._v(" Running Unit Tests automatically with code coverage")]),e._v(" "),r("hr"),e._v(" "),r("p",[e._v("Now we are ready to run our unit tests and observe coverage. Open your favorite terminal or use Visual Studio Code built in terminal and navigate to the test project directory. Run the following command.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("dotnet watch test /p:CollectCoverage=true /p:CoverletOutputFormat=cobertura /p:CoverletOutput=cov.xml\n")])])]),r("p",[e._v("This will automatically compile unit tests project and run it recreating coverage report. To enable coverage gutters to automatically refresh line coverage click on 'Watch' (Watch and Remove Helper) on the status bar of Visual Studio Code.")]),e._v(" "),r("p",[r("img",{attrs:{src:"/images/Code-Coverage-Sample.PNG",alt:"Code Coverage Sample"}})]),e._v(" "),r("p",[e._v("In the screenshot covered with unit tests code displayed with green background. Not covered with red. You can try to follow described steps to enable coverage using project "),r("a",{attrs:{href:"https://github.com/vsetchinfc/avsc.database",target:"_blank",rel:"noopener noreferrer"}},[e._v("avsc.database"),r("OutboundLink")],1),e._v(" on github I made screenshot from.")]),e._v(" "),r("h3",{attrs:{id:"references"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[e._v("#")]),e._v(" References")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://tinyurl.com/y2gyhbyo",target:"_blank",rel:"noopener noreferrer"}},[e._v("Automatic Unit Testing in .NET Core plus Code Coverage in Visual Studio Code"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tinyurl.com/y6dsvpej",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tests code coverage in Visual Studio Code with C# and .Net Core"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tinyurl.com/yys9wuy3",target:"_blank",rel:"noopener noreferrer"}},[e._v("Use code coverage for unit testing"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=a.exports}}]);